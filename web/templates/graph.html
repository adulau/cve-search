<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Keywords in Common Vulnerabilities and Exposures CVE descriptions - from 1999 until Today</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Common Vulnerability Exposure most recent entries"/>
  <meta name="author" content="http://github.com/adulau/cve-search - cve-search"/>
  <meta name="author" content="http://github.com/pidgeyl/cve-search - cve-search"/>
  <!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css"/-->
  <!--link rel="stylesheet/less" href="less/responsive.less" type="text/css"/-->
  <!--script src="js/less-1.3.3.min.js"></script-->
  <!--append ‘#!watch’ to the browser URL, then refresh the page. -->
  <link href="/static/css/bootstrap.min.css" rel="stylesheet" />
  <link href="/static/css/style.css" rel="stylesheet" />
  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->
  <!-- Fav and touch icons -->
  <link rel="apple-touch-glyphicon-precomposed" sizes="144x144" href="/static/img/apple-touch-glyphicon-144-precomposed.png"/>
  <link rel="apple-touch-glyphicon-precomposed" sizes="72x72" href="/static/img/apple-touch-glyphicon-72-precomposed.png"/>
  <link rel="apple-touch-glyphicon-precomposed" href="/static/img/apple-touch-glyphicon-57-precomposed.png"/>
  <link rel="shortcut icon" href="/static/img/favicon.png" />
  <script type="text/javascript" src="/static/js/custom/scripts.js"></script>
  <script type="text/javascript" src="/static/js/d3.v3.min.js"></script>
  <script type="text/javascript" src="/static/js/colorbrewer.js"></script>
</head>

<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <!-- Nav -->
        {% include 'menu.html' %}
        <!-- End Nav -->
        <!-- Content -->
        <div>
<p>This is a view of the top 3000 keywords used in the Common Vulnerabilities and Exposures description/summary (from 1999 until Today) automatically generated from the full-text indexing functionality of <a href="http://adulau.github.com/cve-search/">cve-search</a>. Move over your mouse to get the value. On the visualization the keyword is truncated to fit the screen but if you move your mouse on the node you'll see the full keywords with the number of occurrences. </p>

<script>
var diameter = 960,
    format = d3.format(",d"),
    color = d3.scale.ordinal().range(colorbrewer.RdYlGn[9]);
var bubble = d3.layout.pack()
    .sort(null)
    .size([diameter, diameter])
    .padding(2);

var svg = d3.select("body").append("svg")
    .attr("width", diameter)
    .attr("height", diameter)
    .attr("class", "bubble");

d3.json("/json/{{json}}", function(error, root) {
  var node = svg.selectAll(".node")
      .data(bubble.nodes(classes(root))
      .filter(function(d) { return !d.children; }))
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

  node.append("title")
      .text(function(d) { return d.className + ": " + format(d.value); });

  node.append("circle")
      .attr("r", function(d) { return d.r; })
      .style("fill", function(d) { return color(d.r); });

  node.append("text")
      .attr("dy", ".4em")
      .style("text-anchor", "middle")
      .text(function(d) { return d.className.substring(0, d.r / 3); });
});

// Returns a flattened hierarchy containing all leaf nodes under the root.
function classes(root) {
  var classes = [];

  function recurse(name, node) {
    if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });
    else classes.push({packageName: name, className: node.name, value: node.size});
  }

  recurse(null, root);
  return {children: classes};
}

d3.select(self.frameElement).style("height", diameter + "px");
</script>
        </div>
        <!-- end content -->
      </div>
    </div>
  </div>
</body>
</html>
